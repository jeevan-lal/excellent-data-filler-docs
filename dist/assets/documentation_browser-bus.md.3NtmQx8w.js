import{_ as i,c as e,o as a,aj as t}from"./chunks/framework.DRmbE9yB.js";const k=JSON.parse('{"title":"Browser Bus","description":"","frontmatter":{},"headers":[],"relativePath":"documentation/browser-bus.md","filePath":"documentation/browser-bus.md","lastUpdated":1768407692000}'),n={name:"documentation/browser-bus.md"};function l(r,s,h,o,p,d){return a(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="browser-bus" tabindex="-1">Browser Bus <a class="header-anchor" href="#browser-bus" aria-label="Permalink to ‚ÄúBrowser Bus‚Äù">‚Äã</a></h1><p>Browser Bus is a powerful JavaScript API that enables seamless <strong>real-time communication</strong> between multiple browser tabs and windows. It allows you to share data, synchronize states, and coordinate actions across different tabs of your browser extension.</p><p><strong>Use Cases:</strong></p><ul><li>Share form data between tabs</li><li>Synchronize user actions across multiple windows</li><li>Transfer data from one tab to another without server communication</li><li>Coordinate automation tasks across different browser tabs</li><li>Build multi-tab workflows and data pipelines</li></ul><h2 id="key-features" tabindex="-1">Key Features <a class="header-anchor" href="#key-features" aria-label="Permalink to ‚ÄúKey Features‚Äù">‚Äã</a></h2><h3 id="üì°-cross-tab-communication" tabindex="-1">üì° Cross-Tab Communication <a class="header-anchor" href="#üì°-cross-tab-communication" aria-label="Permalink to ‚Äúüì° Cross-Tab Communication‚Äù">‚Äã</a></h3><p>Send and receive data between any open browser tabs, enabling seamless information sharing without requiring a backend server.</p><h3 id="üîÑ-real-time-synchronization" tabindex="-1">üîÑ Real-Time Synchronization <a class="header-anchor" href="#üîÑ-real-time-synchronization" aria-label="Permalink to ‚ÄúüîÑ Real-Time Synchronization‚Äù">‚Äã</a></h3><p>Data changes are instantly reflected across all connected tabs, ensuring all tabs stay in sync with the latest information.</p><h3 id="üéØ-flexible-data-types" tabindex="-1">üéØ Flexible Data Types <a class="header-anchor" href="#üéØ-flexible-data-types" aria-label="Permalink to ‚ÄúüéØ Flexible Data Types‚Äù">‚Äã</a></h3><p>Send any type of data including strings, numbers, objects, arrays, and complex nested structures.</p><h3 id="üîí-origin-control" tabindex="-1">üîí Origin Control <a class="header-anchor" href="#üîí-origin-control" aria-label="Permalink to ‚Äúüîí Origin Control‚Äù">‚Äã</a></h3><p>Configure which URLs can send and receive data, providing security and control over cross-tab communication.</p><h3 id="üéõÔ∏è-listener-management" tabindex="-1">üéõÔ∏è Listener Management <a class="header-anchor" href="#üéõÔ∏è-listener-management" aria-label="Permalink to ‚ÄúüéõÔ∏è Listener Management‚Äù">‚Äã</a></h3><p>Full control over connection listeners with start, stop, remove, and reset capabilities for efficient resource management.</p><h3 id="üßπ-data-cleanup" tabindex="-1">üßπ Data Cleanup <a class="header-anchor" href="#üßπ-data-cleanup" aria-label="Permalink to ‚Äúüßπ Data Cleanup‚Äù">‚Äã</a></h3><p>Remove previously sent data to manage memory and keep your communication channel clean.</p><h3 id="üñºÔ∏è-iframe-support" tabindex="-1">üñºÔ∏è iFrame Support <a class="header-anchor" href="#üñºÔ∏è-iframe-support" aria-label="Permalink to ‚ÄúüñºÔ∏è iFrame Support‚Äù">‚Äã</a></h3><p>Optional support for communication within iframes, with granular control over which iframes can participate.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>All JavaScript code examples below should be used in the <a href="/documentation/field-types/javascript-code.html">JavaScript Code</a> field type.</p></div><h2 id="how-it-works" tabindex="-1">How it works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to ‚ÄúHow it works‚Äù">‚Äã</a></h2><ol><li><strong>Request Sending:</strong></li></ol><p>Send data from one browser tab to other tabs. You can send any type of data including strings, objects, or arrays.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// SEND REQUEST</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$fns.connection.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SEND REQUEST&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><ol start="2"><li><strong>Request Receiving:</strong></li></ol><p>Receive data sent from other tabs. Set up a listener that will be triggered whenever data is received from another tab.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// RECEIVER</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$fns.connection.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">receive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;REQUEST DATA: &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // STOP LISTENER</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // $fns.connection.listener.stop();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // REMOVE LISTENER</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // $fns.connection.listener.remove();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="stop-and-remove-listener" tabindex="-1">Stop and Remove Listener <a class="header-anchor" href="#stop-and-remove-listener" aria-label="Permalink to ‚ÄúStop and Remove Listener‚Äù">‚Äã</a></h2><p>This helps to prevent unnecessary processing when data is no longer needed.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// STOP</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$fns.connection.listener.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// REMOVE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$fns.connection.listener.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h2 id="reset-listener" tabindex="-1">Reset Listener <a class="header-anchor" href="#reset-listener" aria-label="Permalink to ‚ÄúReset Listener‚Äù">‚Äã</a></h2><p>If the listener is removed or stopped, the receiver will no longer function. To restart the receiver, you can reset the listener.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// RESET LISTENER</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$fns.connection.listener.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h2 id="remove-sent-data" tabindex="-1">Remove Sent Data <a class="header-anchor" href="#remove-sent-data" aria-label="Permalink to ‚ÄúRemove Sent Data‚Äù">‚Äã</a></h2><p>Remove already sent data from the Browser Bus connection. This is useful for clearing old data and managing memory.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// REMOVE SENT DATA</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$fns.connection.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeSentData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>This function clears all previously sent data from the connection, allowing you to start fresh without any residual data from previous transmissions.</p><h2 id="settings" tabindex="-1">Settings <a class="header-anchor" href="#settings" aria-label="Permalink to ‚ÄúSettings‚Äù">‚Äã</a></h2><p>Connection default settings -</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Is allow connection in iframe</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;allow_iframe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // URLs of the page to send the connection from.</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;senderURLs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // URL of the page to receive the connection data.</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;receiverTab&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><table tabindex="0"><thead><tr><th>Setting</th><th>Description</th><th>Value</th></tr></thead><tbody><tr><td><code>allow_iframe</code></td><td>Indicates whether the application allows connections within an iframe.</td><td><code>false</code></td></tr><tr><td><code>senderURLs</code></td><td>An array containing the URLs of the pages from which the connection is sent. <br><br> If there are multiple <code>iframes</code> on the page, you can specify the <code>URL</code> for iframe here.</td><td><code>[]</code> (empty array)</td></tr><tr><td><code>receiverTab</code></td><td>An object containing the URL of the page that will receive the connection data.</td><td><code>{}</code> (empty object)</td></tr></tbody></table><p>If the <code>senderURLs</code> data is empty, the connection send request from all iframes if the site has iframes.</p><p>If the <code>receiverTab</code> data is empty, the connection is triggered to all tabs. If you want to customize this behavior, you can use the parameters provided in the Chrome extension API, specifically the tabs API.</p><p>For more information on how to use these parameters, you can refer to the <a href="https://developer.chrome.com/docs/extensions/reference/api/tabs?hl=en#parameters_19" target="_blank" rel="noreferrer">Chrome Extension Tabs API</a>.</p><h3 id="how-to-set-settings" tabindex="-1">How to Set Settings <a class="header-anchor" href="#how-to-set-settings" aria-label="Permalink to ‚ÄúHow to Set Settings‚Äù">‚Äã</a></h3><p>These settings should be established before <code>sending</code> a connection request.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// SETTINGS</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$fns.connection.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">settings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  allow_iframe: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  senderURLs: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://temp-mail.org/en/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  receiverTab: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    url: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://formfiller.ctechhindi.in/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Then use \`connection.send\`</span></span></code></pre></div><ul><li><strong>allow_iframe</strong>: This setting is set to <code>false</code>, which means that the connection will not be allowed within an iframe.</li><li><strong>senderURLs</strong>: In this case, the only allowed sender URL is <code>https://temp-mail.org/en/</code>. This means that only requests originating from this URL will be able to send connection data.</li><li><strong>receiverTab</strong>: The specified URL is <code>https://formfiller.ctechhindi.in/*</code>, which indicates that any page under this domain can receive the connection.</li></ul>`,49)])])}const g=i(n,[["render",l]]);export{k as __pageData,g as default};
